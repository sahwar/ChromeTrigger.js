<!DOCTYPE html><html><head><title>ChromeTrigger test</title>
<meta name="viewport" content="width=device-width, user-scalable=no">
<meta charset="utf-8"></head>
<body style="background-color:#a4c639; margin:0; padding:0">

<script src="../lib/WebModule.js"></script>
<script>
//publish to global. eg: window.WebModule.Class -> window.Class
WebModule.publish = true;
</script>

<script src="../lib/IntentDialog.js"></script>
<script src="../lib/IntentDialogTemplate.js"></script>
<script src="../lib/lang/en.js"></script>
<script src="../lib/lang/ja.js"></script>
<script src="../lib/ChromeTrigger.js"></script>
<script src="wmtools.js"></script>


<script>
var DEBUG = true;

if (DEBUG) {
    ChromeTrigger["VERBOSE"] = true;
    IntentDialog["VERBOSE"]  = true;

    var goodbye = ChromeTrigger.AOSP ||
                  confirm("This is not a AOSP(Android) browser. Do you want to simulate that?");

    if (goodbye) {
        //ChromeTrigger["LANG"] = "en";
        var trigger = new ChromeTrigger("CHROME", "APP");

        if ( confirm("Reset always open setting?") ) {
            trigger.reset();
        }
        trigger.open(function(always) {
            alert("You are selected AOSP(Android) browser. " + (always ? "open always" : "open once"));
        });
    } else {
        alert("canceled");
    }
} else if (ChromeTrigger.AOSP) {
    var trigger = new ChromeTrigger();

    trigger.open();
}
</script>
</body></html>

